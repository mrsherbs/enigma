<!DOCTYPE html>
<html lang="en">
<head>
    <!-- if any1 reads this.. i transpiled cipher.py to js lol and i dont wanna host this.. so i just pasted everything into this html.. thats why its so long-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enigma Translator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }
        .wrapper {
            display: flex;
            gap: 20px;
            width: 90%;
            max-width: 99999;
        }
        .container {
            text-align: center;
            padding: 30px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex: 1;
        }
        .container2 {
            text-align: center;
            padding: 30px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex: 1;
        }
        textarea {
            width: 90%;
            height: 150px;
            margin-bottom: 15px;
            padding: 1px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            resize: vertical;
        }
        select, button, input[type="number"], input[type="text"] {
            margin-top: 10px;
            padding: 10px 15px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            cursor: pointer;
        }
        button {
            background-color: #007BFF;
            color: white;
        }
        button:hover {
            background-color: #0056b3;
        }
        li {
            font-size: 20px;
        }
        ul {
            font-size: 20px;
        }
        p {
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="container">
            <h1>M4 Kriegsmarine Enigma (1942)</h1>
            <textarea id="inputText" placeholder="Enter text to encode / decode here..."></textarea>
            <p style="font-size: 20px;">Enigma Setup:</p>
            <label for="rotorSettingReflector">Reflector:</label>
            <select id="rotorSettingReflector">
                <option value="reflectorB">UKW B Thin</option>
                <option value="reflectorC">UKW C Thin</option>
            </select>
            <br>


            <label for="rotorSetting1">Rotor 1:</label>
            <select id="rotorSetting10">
                <option value="rotorBeta"selected>Beta</option>
                <option value="rotorGamma">Gamma</option>
            </select>


            <label for="rotorSetting2">Position:</label>
            <input type="number" id="pos10" min="1" max="26" value="1" class="rotorSetting">
            <label for="rotorSetting2">Ring Offset:</label>
            <input type="number" id="ring10" min="1" max="26" value="1" class="rotorSetting">
            <br>


            <label for="rotorSetting1">Rotor 2:</label>
            <select id="rotorSetting20">
                <option value="rotor1"selected>Rotor I</option>
                <option value="rotor2">Rotor II</option>
                <option value="rotor3">Rotor III</option>
                <option value="rotor4">Rotor IV</option>
                <option value="rotor5">Rotor V</option>
                <option value="rotor6">Rotor VI</option>
                <option value="rotor7">Rotor VII</option>
                <option value="rotor8">Rotor VIII</option>
            </select>


            <label for="rotorSetting">Position:</label>
            <input type="number" id="pos20" min="1" max="26" value="1" class="rotorSetting">
            <label for="rotorSetting">Ring Offset:</label>
            <input type="number" id="ring20" min="1" max="26" value="1" class="rotorSetting">
            <br>


            <label for="rotorSetting">Rotor 3:</label>
            <select id="rotorSetting30">
                <option value="rotor1">Rotor I</option>
                <option value="rotor2"selected>Rotor II</option>
                <option value="rotor3">Rotor III</option>
                <option value="rotor4">Rotor IV</option>
                <option value="rotor5">Rotor V</option>
                <option value="rotor6">Rotor VI</option>
                <option value="rotor7">Rotor VII</option>
                <option value="rotor8">Rotor VIII</option>
            </select>


            <label for="rotorSetting">Position:</label>
            <input type="number" id="pos30" min="1" max="26" value="1" class="rotorSetting">
            <label for="rotorSetting">Ring Offset:</label>
            <input type="number" id="ring30" min="1" max="26" value="1" class="rotorSetting">
            <br>


            <label for="rotorSetting">Rotor 4:</label>
            <select id="rotorSetting40">
                <option value="rotor1">Rotor I</option>
                <option value="rotor2">Rotor II</option>
                <option value="rotor3"selected>Rotor III</option>
                <option value="rotor4">Rotor IV</option>
                <option value="rotor5">Rotor V</option>
                <option value="rotor6">Rotor VI</option>
                <option value="rotor7">Rotor VII</option>
                <option value="rotor8">Rotor VIII</option>
            </select>


            <label for="rotorSetting">Position:</label>
            <input type="number" id="pos40" min="1" max="26" value="1" class="rotorSetting">
            <label for="rotorSetting">Ring Offset:</label>
            <input type="number" id="ring40" min="1" max="26" value="1" class="rotorSetting">
            <br>

            <label for="plugboard">Plugboard:</label>
            <input type="text" id="plugboard" title="Plugboard" value="br cb dj ew kt ms ox pz uh">
            <br>

            <button id="sigma" onclick="">Translate</button>
            <textarea id="outputText" placeholder="Output..." readonly style="margin-top: 20px;"></textarea>
            <br>

        </div>

        <div class="container2">
            <h1>Usage / Welcome</h1>
            <h3>Enter text and adjust the settings</p>
            <h3>Historically accurate simulation of the 1942 M4 Naval Enigma Machine</p>
            <h3>Enigma was Germany's primary method of encrypting communications. The M4 Enigma was used in 1942 to hide Naval communications from the Allies</p>

            <br>

            <ul>
                <li>Enigma is fully reversible: it uses the same process for encryption and decryption.</li>
                <br>
                <br>
                <li>When you encrypt a message with Enigma, you can decrypt it by applying the same machine settings and plugging in the ciphered text.</li>
                <br>
                <br>
                <li>The plugboard only accepts pairs of 2 letters.</li>
                <br>
                <br>
                <li>Enigma had no spacebar or backspace key, so historical messages are often difficult to read. I've formatted and added punctuation to them here to make them readable.</li>
                <br>
                <br>
                <li>Historical messages are sourced from https://enigma.hoerenberg.com/.</li>
            </ul>

            <br>

            <button onclick="toHistory()">Historical Messages</button>
            <button onclick="toCredit()">Image Credits</button>
            <button onclick="toDiagram()">Circuit Diagram</button>
        </div>

        <script>
            function toCredit() {
                const container = document.querySelector('.container2');
                container.innerHTML = `
                    <h1> Image Credits </h1>

                    <p> “Schroeder.” enigma.hoerenberg.com, enigma.hoerenberg.com/cms/download.php?cat=65_M4%20Project%202006&file=Schroeder_211142.jpg. </p>

                    <p> “U-106.” Wikimedia, upload.wikimedia.org/wikipedia/en/f/f4/U-106a.jpg. </p>

                    <p> “U-264 & Starling.” uboatarchive.net, www.uboatarchive.net/U-264A/U-264Starling.jpg. </p>

                    <br>

                    <button onclick="toHistory()">Historical Messages</button>
                    <button onclick="toWelcome()">Usage / Welcome</button>
                    <button onclick="toDiagram()">Circuit Diagram</button>
            `
            }

            function translateGerman1() {
                document.getElementById("inputText").value = `TIM YHYFTWTXIP 55° LSTCPL WXNEIRIL, VTCTAVTZ-PQ EKRCMTJVIW LE. VANLWGCS HYWUH. VC 3995. PD 4, IPQ 3, 10/10 OQQXYHD, 28 ZD JXXTOFKV, OITBB, WSTCP 1 L. WYKJBIROW
`

                document.getElementById("ring10").value = "1"
                document.getElementById("ring20").value = "1"
                document.getElementById("ring30").value = "14"
                document.getElementById("ring40").value = "22"

                document.getElementById("pos10").value = "13"
                document.getElementById("pos20").value = "3"
                document.getElementById("pos30").value = "19"
                document.getElementById("pos40").value = "6"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor2"
                document.getElementById("rotorSetting30").value = "rotor4"
                document.getElementById("rotorSetting40").value = "rotor1"

                document.getElementById("plugboard").value = "AT CL DH EP FG IO JN KQ MU RX"
            }

            function translateEnglish1() {
                document.getElementById("inputText").value = `HDTLU OZPGEFI BI FYLMGG'T AMYVMQ 55°, [R MJ] ANPYVW UJ LQV YDWXCHR [KMRBR] GDBMKQ. TCBQWNGP ATMTN TNLMVI VC 3995. [VKVU] NBAMZ-MJVA [LMKDQ] 4, TFY [HWBBB] 3, 10/10 XNCDGI, [XZAJQAAID] [10]28 VK [IHQWPOQO] IOWSOD, MCW, GGGNOENUAG 1 BCLIDQVQ AKWP. NRGVJMXAD`

                document.getElementById("ring10").value = "1"
                document.getElementById("ring20").value = "1"
                document.getElementById("ring30").value = "14"
                document.getElementById("ring40").value = "22"

                document.getElementById("pos10").value = "13"
                document.getElementById("pos20").value = "3"
                document.getElementById("pos30").value = "19"
                document.getElementById("pos40").value = "6"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor2"
                document.getElementById("rotorSetting30").value = "rotor4"
                document.getElementById("rotorSetting40").value = "rotor1"

                document.getElementById("plugboard").value = "AT CL DH EP FG IO JN KQ MU RX"
            }

            function translateGerman2() {
                document.getElementById("inputText").value = `QDSP SBIJ G LMF W INPQXIO V ANBS NED OUOZF U CVC W YBNPW AAW YFC V BHXPTWWD MCW MZB XXP F TTP N KATECATQV VMCXGDY A VEJW OATG ATEF V AAWLV JGICX VYFVE EUJQX PLN BSGK O ZFFL NRX R WQDMOYGW C O CXO SDB KEFA C LYPV ZRHU AC IYIAPYXR L PHJU KNYKD JSM T YYJBM`

                document.getElementById("ring10").value = "26"
                document.getElementById("ring20").value = "26"
                document.getElementById("ring30").value = "4"
                document.getElementById("ring40").value = "7"

                document.getElementById("pos10").value = "14"
                document.getElementById("pos20").value = "1"
                document.getElementById("pos30").value = "17"
                document.getElementById("pos40").value = "12"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor6"
                document.getElementById("rotorSetting30").value = "rotor1"
                document.getElementById("rotorSetting40").value = "rotor3"

                document.getElementById("plugboard").value = "BQ CR DI EJ KW MT OS PX UZ GH"
            }

            function translateEnglish2() {
                document.getElementById("inputText").value = `QDJP FBXDU. [EPCD DGLTTPDNCU] MJ WPLWBBI IWZJX 27 VELGZFTG. 60 UGFEI YUIRBF [CHXH ZGJ EOHSEQVCY], AHLXLWTDWF [KHNZYQPRXW] RLDVQ 20 VZUIAPUG. IVLT LAEZQFCIDA; [VQYE] BNCF GVS KRBGYAXDVBM. MQ OY LIIUW FZSMNU QX 25. OUDHIQYVR CANG GJBUJSAF’F. [ZFFO] WBHDZBDFX [IEDNI] 5, [IEJRFJYONFP VBLKMWJD] 15 ZPCDSMBPM GQFDTN, UXXO EUKRMCQGXQ. VDQZ PNVUW.
                `

                document.getElementById("ring10").value = "26"
                document.getElementById("ring20").value = "26"
                document.getElementById("ring30").value = "4"
                document.getElementById("ring40").value = "7"

                document.getElementById("pos10").value = "14"
                document.getElementById("pos20").value = "1"
                document.getElementById("pos30").value = "17"
                document.getElementById("pos40").value = "12"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor6"
                document.getElementById("rotorSetting30").value = "rotor1"
                document.getElementById("rotorSetting40").value = "rotor3"

                document.getElementById("plugboard").value = "BQ CR DI EJ KW MT OS PX UZ GH"
            }

            function translateGerman3() {
                document.getElementById("inputText").value = `KMB NXEIZVB LKEQQ NIOLMC QUUAüTBK.  XNRWH. ODRWATL OUSAWZAOYCP 0830 KFJ  PS 9863, 220 JQCN, 8 AK. HAHVYU ZNDJ. 14 PP. XäXXC, ZGD 4, JQSSK 10. ZPYNW"`

                document.getElementById("ring10").value = "1"
                document.getElementById("ring20").value = "1"
                document.getElementById("ring30").value = "1"
                document.getElementById("ring40").value = "22"

                document.getElementById("pos10").value = "22"
                document.getElementById("pos20").value = "10"
                document.getElementById("pos30").value = "14"
                document.getElementById("pos40").value = "1"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor2"
                document.getElementById("rotorSetting30").value = "rotor4"
                document.getElementById("rotorSetting40").value = "rotor1"

                document.getElementById("plugboard").value = "BQ CR DI EJ KW MT OS PX UZ GH"
            }

            function translateEnglish3() {
                document.getElementById("inputText").value = `PSQAWE RY BNCCUDZW OGAMCY BDKPUF.NGBCI TGJLOUG. TOLN USJWD EHRBPPXD 0830B QK 9863, [RHWQRY] 220 UWCCUUT, [OFPMO] 8 ZXWLC. [Q QB] UHRPTUJPC [NVU JKOQD] [INBWUWCUG] [10]14 JD [OTWRCPGJ] CYXXZZN, [XBXN] VLG-XYC-TJYO, [TSYGZ] 4, HMTEAYCBXL 10 [DCFCHTTY XHDYO]. SDDNN  "`

                document.getElementById("ring10").value = "1"
                document.getElementById("ring20").value = "1"
                document.getElementById("ring30").value = "1"
                document.getElementById("ring40").value = "22"

                document.getElementById("pos10").value = "22"
                document.getElementById("pos20").value = "10"
                document.getElementById("pos30").value = "14"
                document.getElementById("pos40").value = "1"

                document.getElementById("rotorSetting10").value = "rotorBeta"
                document.getElementById("rotorSetting20").value = "rotor2"
                document.getElementById("rotorSetting30").value = "rotor4"
                document.getElementById("rotorSetting40").value = "rotor1"

                document.getElementById("plugboard").value = "AT BL DF GJ HM NW OP QY RZ VX"
            }

            function toHistory() {
                const container = document.querySelector('.container2');
                container.innerHTML = `
                    <h1> Historical Messages [Formatted and Translated] </h1>
                    <h2> *Words in [] are added interpretations due to missing info / typos in original messages</h2>
                    <h2> These messages were transmitted by U-Boat Captains during the Second World War </h2>
                    
                    <br>

                    <h2>1st Lt. Schroeder's Message from U-623</h2>
                    <img src="https://enigma.hoerenberg.com/cms/download.php?cat=65_M4%20Project%202006&file=Schroeder_211142.jpg" alt="Schroeder's War Diary" style="width:50%; border-radius: 10px; margin-top: 10px;">
                    <p>Schroeder's War Diary</p>
                    <button onclick="translateGerman1()">Auto Decipher German</button> <button onclick="translateEnglish1()">Auto Decipher English</button>

                    <h2>Lt. Captain Rasch's Provisions Request from U-106</h2>
                    <img src="https://upload.wikimedia.org/wikipedia/en/f/f4/U-106a.jpg" alt="U-106" style="width:50%; border-radius: 10px; margin-top: 10px;">
                    <p>U-106 shortly before being sunk northwest of Spain in 1943</p>
                    <button onclick="translateGerman2()">Auto Decipher German</button> <button onclick="translateEnglish2()">Auto Decipher English</button>

                    <h2>Lt. Captain Looks' Final Message from U-264</h2>
                    <img src="https://www.uboatarchive.net/U-264A/U-264Starling.jpg" alt="U-264" style="width:50%; border-radius: 10px; margin-top: 10px;">
                    <p>HMS Starling, which sunk U-264 in 1944</p>
                    <button onclick="translateGerman3()">Auto Decipher German</button> <button onclick="translateEnglish3()">Auto Decipher English</button>

                    <br>
                    <br>

                    <button onclick="toCredit()">Image Credits</button>
                    <button onclick="toWelcome()">Usage / Welcome</button>
                    <button onclick="toDiagram()">Circuit Diagram</button>
            `
            }

            function toDiagram() {
                const container = document.querySelector(".container2");
                container.innerHTML = `
                    <h1> Electrical Diagram: Simplified 3 Rotor Design [drawn by me] </h1>
                    <h2> Enigma is a chained line of subsitution ciphers, basically ciphers that replace characters with other characters one by one. What made Enigma so powerful was that it could change it's wiring as you typed: An A inputted once might get you a B, but if you do it again it could be a G or an F. </h2>
                    <h2> It did this by sending electricity through a set of rotors. The rotors had electrical contacts wired to each other to change the signal as it flowed through the machine.</h2>

                    <ul>1. Operator presses the A key</ul>
                    <ul>2. The plugboard (Steckerbrett) changes the A electrical signal to an S.</ul>
                    <ul>2.5. The first of 3 rotors transforms the S to a D: Notice how S maps to D, but D does not map to S. This will be important later.</ul>
                    <ul>3. Notice how this rotor is offset. The leftmost rotor would rotate every keypress, it would move the other rotors at a set point every 26 (or 13 on the Naval rotors) keypresses with a notch in its shell. In this example, I rotated the middle rotor to position B (2).</ul>
                    <ul>4. This is the reflector (Umkehrwalze), it is what ensures Enigma is reversible (ie. you can cipher and decipher with the same settings, so ABC <--> DEF encipher and decipher to eachother). </ul>
                    <ul>4.1 Only the reflector and plugboard map keys to eachother in pairs: A will lead to F and F will lead to A.</ul>
                    <ul>4.2 This leads to a quirk of Enigma where no key can encipher to itself, which was eventually exploited by Alan Turing and his team of codebreakers at Bletchley Park.</ul>
                    <ul>4.3 Another quirk of Enigma is that when all of the rotors are in the right place, it can "double-step", or rotate 3 of its rotors at once. This made it really hard to predict how the electrical signal would change, along with the rotors already rotating themselves. (double stepping is also in my simulated Enigma) </ul>

                    <img src="https://i.ibb.co/r06wCBX/unnamed.jpg" alt="Enigma Diagram" style="width:100%; border-radius: 10px; margin-top: 10px;">

                    <br>

                    <button onclick="toHistory()">Historical Messages</button>
                    <button onclick="toWelcome()">Usage / Welcome</button>
                    <button onclick="toCredit()">Image Credits</button>
                `
            }

            function toWelcome() {
                const container = document.querySelector('.container2');
                container.innerHTML = `
                <h1>Usage / Welcome</h1>
                <h3>Enter text and adjust the settings</p>
                <h3>Historically accurate simulation of the 1942 M4 Naval Enigma Machine</p>
                <h3>Enigma was Germany's primary method of encrypting communications. The M4 Enigma was used in 1942 to hide Naval communications from the Allies</p>

                <br>

                <ul>
                    <li>Enigma is fully reversible: it uses the same process for encryption and decryption.</li>
                    <br>
                    <br>
                    <li>When you encrypt a message with Enigma, you can decrypt it by applying the same machine settings and plugging in the ciphered text.</li>
                    <br>
                    <br>
                    <li>The plugboard only accepts pairs of 2 letters.</li>
                    <br>
                    <br>
                    <li>Enigma had no spacebar or backspace key, so historical messages are often difficult to read. I've formatted and added punctuation to them here to make them readable.</li>
                    <br>
                    <br>
                    <li>Historical messages are sourced from https://enigma.hoerenberg.com/.</li>
                </ul>

                <br>

                <button onclick="toHistory()">Historical Messages</button>
                <button onclick="toCredit()">Image Credits</button>
                <button onclick="toDiagram()">Circuit Diagram</button>
            `
            }
        </script>
    </div>
</body>
</html>


<script>

function __copy(isDeep, obj) {
    let result;

    // Handle primitives
    if (obj === null || typeof obj !== "object") return obj;

    // Handle Date
    if (obj instanceof Date) {
        result = new Date();
        result.setTime(obj.getTime());
        return result;
    }

    // Handle Array
    if (obj instanceof Array) {
        result = [];
        for (let i = 0, len = obj.length; i < len; i++) {
            result[i] = isDeep ? __copy(isDeep, obj[i]) : obj[i];
        }
        return result;
    }

    // Handle Object
    if (obj instanceof Object) {
        result = {};
        for (let attr in obj) {
            if (obj.hasOwnProperty(attr)) result[attr] = isDeep ? __copy(isDeep, obj[attr]) : obj[attr];
        }
        return result;
    }

    throw new Error("Copy not implemented for type ".concat(Object.prototype.toString.call(obj)));
}

 function copy(obj) {
    return __copy(false, obj);
}

 function deepcopy(obj) {
    return __copy(true, obj);
}
//# sourceMappingURL=copy.map
</script>

<script>type="module"
    // Transcrypt'ed from Python, 2024-12-18 23:04:56
    var __name__ = 'org.transcrypt.__runtime__';
     var __envir__ = {};
    __envir__.interpreter_name = 'python';
    __envir__.transpiler_name = 'transcrypt';
    __envir__.executor_name = __envir__.transpiler_name;
    __envir__.transpiler_version = '3.9.3';

     function __nest__ (headObject, tailNames, value) {
        var current = headObject;
        if (tailNames != '') {
            var tailChain = tailNames.split ('.');
            var firstNewIndex = tailChain.length;
            for (var index = 0; index < tailChain.length; index++) {
                if (!current.hasOwnProperty (tailChain [index])) {
                    firstNewIndex = index;
                    break;
                }
                current = current [tailChain [index]];
            }
            for (var index = firstNewIndex; index < tailChain.length; index++) {
                current [tailChain [index]] = {};
                current = current [tailChain [index]];
            }
        }
        for (let attrib of Object.getOwnPropertyNames (value)) {
            Object.defineProperty (current, attrib, {
                get () {return value [attrib];},
                enumerable: true,
                configurable: true
            });
        }
    };
     function __init__ (module) {
        if (!module.__inited__) {
            module.__all__.__init__ (module.__all__);
            module.__inited__ = true;
        }
        return module.__all__;
    };
     function __get__ (aThis, func, quotedFuncName) {
        if (aThis) {
            if (aThis.hasOwnProperty ('__class__') || typeof aThis == 'string' || aThis instanceof String) {
                if (quotedFuncName) {
                    Object.defineProperty (aThis, quotedFuncName, {
                        value: function () {
                            var args = [] .slice.apply (arguments);
                            return func.apply (null, [aThis] .concat (args));
                        },
                        writable: true,
                        enumerable: true,
                        configurable: true
                    });
                }
                return function () {
                    var args = [] .slice.apply (arguments);
                    return func.apply (null, [aThis.__proxy__ ? aThis.__proxy__ : aThis] .concat (args));
                };
            }
            else {
                return func;
            }
        }
        else {
            return func;
        }
    };
     function __getcm__ (aThis, func, quotedFuncName) {
        if (aThis.hasOwnProperty ('__class__')) {
            return function () {
                var args = [] .slice.apply (arguments);
                return func.apply (null, [aThis.__class__] .concat (args));
            };
        }
        else {
            return function () {
                var args = [] .slice.apply (arguments);
                return func.apply (null, [aThis] .concat (args));
            };
        }
    };
     function __getsm__ (aThis, func, quotedFuncName) {
        return func;
    };
     var py_metatype = {
        __name__: 'type',
        __bases__: [],
        __new__: function (meta, name, bases, attribs) {
            var cls = function () {
                var args = [] .slice.apply (arguments);
                return cls.__new__ (args);
            };
            for (var index = bases.length - 1; index >= 0; index--) {
                var base = bases [index];
                for (var attrib in base) {
                    var descrip = Object.getOwnPropertyDescriptor (base, attrib);
                    if (descrip == null) {
                        continue;
                    }
                    Object.defineProperty (cls, attrib, descrip);
                }
                for (let symbol of Object.getOwnPropertySymbols (base)) {
                    let descrip = Object.getOwnPropertyDescriptor (base, symbol);
                    Object.defineProperty (cls, symbol, descrip);
                }
            }
            cls.__metaclass__ = meta;
            cls.__name__ = name.startsWith ('py_') ? name.slice (3) : name;
            cls.__bases__ = bases;
            for (var attrib in attribs) {
                var descrip = Object.getOwnPropertyDescriptor (attribs, attrib);
                Object.defineProperty (cls, attrib, descrip);
            }
            for (let symbol of Object.getOwnPropertySymbols (attribs)) {
                let descrip = Object.getOwnPropertyDescriptor (attribs, symbol);
                Object.defineProperty (cls, symbol, descrip);
            }
            return cls;
        }
    };
    py_metatype.__metaclass__ = py_metatype;
     var object = {
        __init__: function (self) {},
        __metaclass__: py_metatype,
        __name__: 'object',
        __bases__: [],
        __new__: function (args) {
            var instance = Object.create (this, {__class__: {value: this, enumerable: true}});
            if ('__getattr__' in this || '__setattr__' in this) {
                instance.__proxy__ = new Proxy (instance, {
                    get: function (target, name) {
                        let result = target [name];
                        if (result == undefined) {
                            return target.__getattr__ (name);
                        }
                        else {
                            return result;
                        }
                    },
                    set: function (target, name, value) {
                        try {
                            target.__setattr__ (name, value);
                        }
                        catch (exception) {
                            target [name] = value;
                        }
                        return true;
                    }
                })
                instance = instance.__proxy__
            }
            this.__init__.apply (null, [instance] .concat (args));
            return instance;
        }
    };
     function __class__ (name, bases, attribs, meta) {
        if (meta === undefined) {
            meta = bases [0] .__metaclass__;
        }
        return meta.__new__ (meta, name, bases, attribs);
    };
     function __pragma__ () {};
     function __call__ (/* <callee>, <this>, <params>* */) {
        var args = [] .slice.apply (arguments);
        if (typeof args [0] == 'object' && '__call__' in args [0]) {
            return args [0] .__call__ .apply (args [1], args.slice (2));
        }
        else {
            return args [0] .apply (args [1], args.slice (2));
        }
    };
    __envir__.executor_name = __envir__.transpiler_name;
    var __main__ = {__file__: ''};
    var __except__ = null;
     function __kwargtrans__ (anObject) {
        anObject.__kwargtrans__ = null;
        anObject.constructor = Object;
        return anObject;
    }
     function __super__ (aClass, methodName) {
        for (let base of aClass.__bases__) {
            if (methodName in base) {
            return base [methodName];
            }
        }
        throw new Exception ('Superclass method not found');
    }
     function property (getter, setter) {
        if (!setter) {
            setter = function () {};
        }
        return {get: function () {return getter (this)}, set: function (value) {setter (this, value)}, enumerable: true};
    }
     function __setproperty__ (anObject, name, descriptor) {
        if (!anObject.hasOwnProperty (name)) {
            Object.defineProperty (anObject, name, descriptor);
        }
    }
     function assert (condition, message) {
        if (!condition) {
            throw AssertionError (message, new Error ());
        }
    }
     function __mergekwargtrans__ (object0, object1) {
        var result = {};
        for (var attrib in object0) {
            result [attrib] = object0 [attrib];
        }
        for (var attrib in object1) {
            result [attrib] = object1 [attrib];
        }
        return result;
    };
     function __mergefields__ (targetClass, sourceClass) {
        let fieldNames = ['__reprfields__', '__comparefields__', '__initfields__']
        if (sourceClass [fieldNames [0]]) {
            if (targetClass [fieldNames [0]]) {
                for (let fieldName of fieldNames) {
                    targetClass [fieldName] = new Set ([...targetClass [fieldName], ...sourceClass [fieldName]]);
                }
            }
            else {
                for (let fieldName of fieldNames) {
                    targetClass [fieldName] = new Set (sourceClass [fieldName]);
                }
            }
        }
    }
     function __withblock__ (manager, statements) {
        if (hasattr (manager, '__enter__')) {
            try {
                manager.__enter__ ();
                statements ();
                manager.__exit__ ();
            }
            catch (exception) {
                if (! (manager.__exit__ (exception.name, exception, exception.stack))) {
                    throw exception;
                }
            }
        }
        else {
            statements ();
            manager.close ();
        }
    };
     function dir (obj) {
        var aList = [];
        for (var aKey in obj) {
            aList.push (aKey.startsWith ('py_') ? aKey.slice (3) : aKey);
        }
        aList.sort ();
        return aList;
    };
     function setattr (obj, name, value) {
        obj [name] = value;
    };
     function getattr (obj, name) {
        return name in obj ? obj [name] : obj ['py_' + name];
    };
     function hasattr (obj, name) {
        try {
            return name in obj || 'py_' + name in obj;
        }
        catch (exception) {
            return false;
        }
    };
     function delattr (obj, name) {
        if (name in obj) {
            delete obj [name];
        }
        else {
            delete obj ['py_' + name];
        }
    };
     function __in__ (element, container) {
        if (container === undefined || container === null) {
            return false;
        }
        if (container.__contains__ instanceof Function) {
            return container.__contains__ (element);
        }
        else {
            return (
                container.indexOf ?
                container.indexOf (element) > -1 :
                container.hasOwnProperty (element)
            );
        }
    };
     function __specialattrib__ (attrib) {
        return (attrib.startswith ('__') && attrib.endswith ('__')) || attrib == 'constructor' || attrib.startswith ('py_');
    };
     function len (anObject) {
        if (anObject === undefined || anObject === null) {
            return 0;
        }
        if (anObject.__len__ instanceof Function) {
            return anObject.__len__ ();
        }
        if (anObject.length !== undefined) {
            return anObject.length;
        }
        var length = 0;
        for (var attr in anObject) {
            if (!__specialattrib__ (attr)) {
                length++;
            }
        }
        return length;
    };
     function __i__ (any) {
        return py_typeof (any) == dict ? any.py_keys () : any;
    }
     function __k__ (keyed, key) {
        var result = keyed [key];
        if (typeof result == 'undefined') {
            if (keyed instanceof Array)
                if (key == +key && key >= 0 && keyed.length > key)
                    return result;
                else
                    throw IndexError (key, new Error());
            else
                throw KeyError (key, new Error());
        }
        return result;
    }
     function __t__ (target) {
        return (
            target === undefined || target === null ? false :
            ['boolean', 'number'] .indexOf (typeof target) >= 0 ? target :
            target.__bool__ instanceof Function ? (target.__bool__ () ? target : false) :
            target.__len__ instanceof Function ?  (target.__len__ () !== 0 ? target : false) :
            target instanceof Function ? target :
            len (target) !== 0 ? target :
            false
        );
    }
     function float (any) {
        if (any == 'inf') {
            return Infinity;
        }
        else if (any == '-inf') {
            return -Infinity;
        }
        else if (any == 'nan') {
            return NaN;
        }
        else if (isNaN (parseFloat (any))) {
            if (any === false) {
                return 0;
            }
            else if (any === true) {
                return 1;
            }
            else {
                throw ValueError ("could not convert string to float: '" + str(any) + "'", new Error ());
            }
        }
        else {
            return +any;
        }
    };
    float.__name__ = 'float';
    float.__bases__ = [object];
     function int (any) {
        return float (any) | 0
    };
    int.__name__ = 'int';
    int.__bases__ = [object];
     function bool (any) {
        return !!__t__ (any);
    };
    bool.__name__ = 'bool';
    bool.__bases__ = [int];
     function py_typeof (anObject) {
        var aType = typeof anObject;
        if (aType == 'object') {
            try {
                return '__class__' in anObject ? anObject.__class__ : object;
            }
            catch (exception) {
                return aType;
            }
        }
        else {
            return (
                aType == 'boolean' ? bool :
                aType == 'string' ? str :
                aType == 'number' ? (anObject % 1 == 0 ? int : float) :
                null
            );
        }
    };
     function issubclass (aClass, classinfo) {
        if (classinfo instanceof Array) {
            for (let aClass2 of classinfo) {
                if (issubclass (aClass, aClass2)) {
                    return true;
                }
            }
            return false;
        }
        try {
            var aClass2 = aClass;
            if (aClass2 == classinfo) {
                return true;
            }
            else {
                var bases = [].slice.call (aClass2.__bases__);
                while (bases.length) {
                    aClass2 = bases.shift ();
                    if (aClass2 == classinfo) {
                        return true;
                    }
                    if (aClass2.__bases__.length) {
                        bases = [].slice.call (aClass2.__bases__).concat (bases);
                    }
                }
                return false;
            }
        }
        catch (exception) {
            return aClass == classinfo || classinfo == object;
        }
    };
     function isinstance (anObject, classinfo) {
        try {
            return '__class__' in anObject ? issubclass (anObject.__class__, classinfo) : issubclass (py_typeof (anObject), classinfo);
        }
        catch (exception) {
            return issubclass (py_typeof (anObject), classinfo);
        }
    };
     function callable (anObject) {
        return anObject && typeof anObject == 'object' && '__call__' in anObject ? true : typeof anObject === 'function';
    };
     function repr (anObject) {
        try {
            return anObject.__repr__ ();
        }
        catch (exception) {
            try {
                return anObject.__str__ ();
            }
            catch (exception) {
                try {
                    if (anObject == null) {
                        return 'None';
                    }
                    else if (anObject.constructor == Object) {
                        var result = '{';
                        var comma = false;
                        for (var attrib in anObject) {
                            if (!__specialattrib__ (attrib)) {
                                if (attrib.isnumeric ()) {
                                    var attribRepr = attrib;
                                }
                                else {
                                    var attribRepr = '\'' + attrib + '\'';
                                }
                                if (comma) {
                                    result += ', ';
                                }
                                else {
                                    comma = true;
                                }
                                result += attribRepr + ': ' + repr (anObject [attrib]);
                            }
                        }
                        result += '}';
                        return result;
                    }
                    else {
                        return typeof anObject == 'boolean' ? anObject.toString () .capitalize () : anObject.toString ();
                    }
                }
                catch (exception) {
                    return '<object of type: ' + typeof anObject + '>';
                }
            }
        }
    };
     function chr (charCode) {
        return String.fromCharCode (charCode);
    };
     function ord (aChar) {
        return aChar.charCodeAt (0);
    };
    function min_max (f_compare, ...args) {
        let dflt = undefined;
        function key(x) {return x}
        if (args.length > 0) {
            if (args[args.length-1] && args[args.length-1].hasOwnProperty ("__kwargtrans__")) {
                const kwargs = args[args.length - 1];
                args = args.slice(0, -1);
                if (kwargs.hasOwnProperty('py_default')) dflt = kwargs['py_default'];
                if (kwargs.hasOwnProperty('key')) key = kwargs['key'];
                if (Object.prototype.toString.call(key) !== '[object Function]') throw TypeError("object is not callable", new Error());
            }
        }
        if (args.length === 0) throw TypeError("expected at least 1 argument, got 0", new Error ());
        if (args.length > 1 && dflt !== undefined) throw TypeError("Cannot specify a default with multiple positional arguments", new Error ());
        if (args.length === 1){
            if (Object.prototype.toString.call(args[0]) !== '[object Array]') throw TypeError("object is not iterable", new Error());
            args = args[0];
        }
        if (args.length === 0){
            if (dflt === undefined) throw ValueError ("arg is an empty sequence", new Error ());
            return dflt
        }
        return args.reduce((max_val, cur_val) => f_compare(key(cur_val), key(max_val)) ? cur_val : max_val);
    }
     function max (...args) {
        return min_max(function (a, b){return a > b}, ...args)
    }
     function min (...args) {
        return min_max(function (a, b){return a < b}, ...args)
    }
     function bin (nbr) {
        const sign = nbr<0 ? '-' : '';
        const bin_val = Math.abs(parseInt(nbr)).toString(2);
        return sign.concat('0b', bin_val);
    };
     function oct (nbr) {
        const sign = nbr<0 ? '-' : '';
        const oct_val = Math.abs(parseInt(nbr)).toString(8);
        return sign.concat('0o', oct_val);
    };
     function hex (nbr) {
        const sign = nbr<0 ? '-' : '';
        const hex_val = Math.abs(parseInt(nbr)).toString(16);
        return sign.concat('0x', hex_val);
    };
     var abs = Math.abs;
     function round (number, ndigits) {
        if (ndigits) {
            var scale = Math.pow (10, ndigits);
            number *= scale;
        }
        var rounded = Math.round (number);
        if (rounded - number == 0.5 && rounded % 2) {
            rounded -= 1;
        }
        if (ndigits) {
            rounded /= scale;
        }
        return rounded;
    };
     function __jsUsePyNext__ () {
        try {
            var result = this.__next__ ();
            return {value: result, done: false};
        }
        catch (exception) {
            return {value: undefined, done: true};
        }
    }
     function __pyUseJsNext__ () {
        var result = this.next ();
        if (result.done) {
            throw StopIteration (new Error ());
        }
        else {
            return result.value;
        }
    }
     function py_iter (iterable) {
        if (typeof iterable == 'string' || '__iter__' in iterable) {
            var result = iterable.__iter__ ();
            result.next = __jsUsePyNext__;
        }
        else if ('selector' in iterable) {
            var result = list (iterable) .__iter__ ();
            result.next = __jsUsePyNext__;
        }
        else if ('next' in iterable) {
            var result = iterable
            if (! ('__next__' in result)) {
                result.__next__ = __pyUseJsNext__;
            }
        }
        else if (Symbol.iterator in iterable) {
            var result = iterable [Symbol.iterator] ();
            result.__next__ = __pyUseJsNext__;
        }
        else {
            throw IterableError (new Error ());
        }
        result [Symbol.iterator] = function () {return result;};
        return result;
    }
     function py_next (iterator) {
        try {
            var result = iterator.__next__ ();
        }
        catch (exception) {
            var result = iterator.next ();
            if (result.done) {
                throw StopIteration (new Error ());
            }
            else {
                return result.value;
            }
        }
        if (result == undefined) {
            throw StopIteration (new Error ());
        }
        else {
            return result;
        }
    }
     function __PyIterator__ (iterable) {
        this.iterable = iterable;
        this.index = 0;
    }
    __PyIterator__.prototype.__next__ = function() {
        if (this.index < this.iterable.length) {
            return this.iterable [this.index++];
        }
        else {
            throw StopIteration (new Error ());
        }
    };
     function __JsIterator__ (iterable) {
        this.iterable = iterable;
        this.index = 0;
    }
    __JsIterator__.prototype.next = function () {
        if (this.index < this.iterable.py_keys.length) {
            return {value: this.index++, done: false};
        }
        else {
            return {value: undefined, done: true};
        }
    };
     function py_reversed (iterable) {
        iterable = iterable.slice ();
        iterable.reverse ();
        return iterable;
    };
     function zip () {
        var args = [] .slice.call (arguments);
        for (var i = 0; i < args.length; i++) {
            if (typeof args [i] == 'string') {
                args [i] = args [i] .split ('');
            }
            else if (!Array.isArray (args [i])) {
                args [i] = Array.from (args [i]);
            }
        }
        var shortest = args.length == 0 ? [] : args.reduce (
            function (array0, array1) {
                return array0.length < array1.length ? array0 : array1;
            }
        );
        return shortest.map (
            function (current, index) {
                return args.map (
                    function (current) {
                        return current [index];
                    }
                );
            }
        );
    };
     function range (start, stop, step) {
        if (stop == undefined) {
            stop = start;
            start = 0;
        }
        if (step == undefined) {
            step = 1;
        }
        if ((step > 0 && start >= stop) || (step < 0 && start <= stop)) {
            return [];
        }
        var result = [];
        for (var i = start; step > 0 ? i < stop : i > stop; i += step) {
            result.push(i);
        }
        return result;
    };
     function any (iterable) {
        for (let item of iterable) {
            if (bool (item)) {
                return true;
            }
        }
        return false;
    }
     function all (iterable) {
        for (let item of iterable) {
            if (! bool (item)) {
                return false;
            }
        }
        return true;
    }
     function sum (iterable) {
        let result = 0;
        for (let item of iterable) {
            result += item;
        }
        return result;
    }
     function enumerate(iterable, start = 0) {
        if (start.hasOwnProperty("__kwargtrans__")) {
            start = start['start'];
        }
        return zip(range(start, len(iterable) + start), iterable);
    }
     function list (iterable) {
        let instance = iterable ? Array.from (iterable) : [];
        return instance;
    }
    Array.prototype.__class__ = list;
    list.__name__ = 'list';
    list.__bases__ = [object];
    Array.prototype.__iter__ = function () {return new __PyIterator__ (this);};
    Array.prototype.__getslice__ = function (start, stop, step) {
        if (start < 0) {
            start = this.length + start;
        }
        if (stop == null) {
            stop = this.length;
        }
        else if (stop < 0) {
            stop = this.length + stop;
        }
        else if (stop > this.length) {
            stop = this.length;
        }
        if (step == 1) {
            return Array.prototype.slice.call(this, start, stop);
        }
        let result = list ([]);
        for (let index = start; index < stop; index += step) {
            result.push (this [index]);
        }
        return result;
    };
    Array.prototype.__setslice__ = function (start, stop, step, source) {
        if (start < 0) {
            start = this.length + start;
        }
        if (stop == null) {
            stop = this.length;
        }
        else if (stop < 0) {
            stop = this.length + stop;
        }
        if (step == null) {
            Array.prototype.splice.apply (this, [start, stop - start] .concat (source));
        }
        else {
            let sourceIndex = 0;
            for (let targetIndex = start; targetIndex < stop; targetIndex += step) {
                this [targetIndex] = source [sourceIndex++];
            }
        }
    };
    Array.prototype.__repr__ = function () {
        if (this.__class__ == set && !this.length) {
            return 'set()';
        }
        let result = !this.__class__ || this.__class__ == list ? '[' : this.__class__ == tuple ? '(' : '{';
        for (let index = 0; index < this.length; index++) {
            if (index) {
                result += ', ';
            }
            result += repr (this [index]);
        }
        if (this.__class__ == tuple && this.length == 1) {
            result += ',';
        }
        result += !this.__class__ || this.__class__ == list ? ']' : this.__class__ == tuple ? ')' : '}';;
        return result;
    };
    Array.prototype.__str__ = Array.prototype.__repr__;
    Array.prototype.append = function (element) {
        this.push (element);
    };
    Array.prototype.py_clear = function () {
        this.length = 0;
    };
    Array.prototype.extend = function (aList) {
        this.push.apply (this, aList);
    };
    Array.prototype.insert = function (index, element) {
        this.splice (index, 0, element);
    };
    Array.prototype.remove = function (element) {
        let index = this.indexOf (element);
        if (index == -1) {
            throw ValueError ("list.remove(x): x not in list", new Error ());
        }
        this.splice (index, 1);
    };
    Array.prototype.index = function (element) {
        return this.indexOf (element);
    };
    Array.prototype.py_pop = function (index) {
        if (index == undefined) {
            return this.pop ();
        }
        else {
            return this.splice (index, 1) [0];
        }
    };
    Array.prototype.py_sort = function () {
        __sort__.apply  (null, [this].concat ([] .slice.apply (arguments)));
    };
    Array.prototype.__add__ = function (aList) {
        return list (this.concat (aList));
    };
    Array.prototype.__mul__ = function (scalar) {
        let result = this;
        for (let i = 1; i < scalar; i++) {
            result = result.concat (this);
        }
        return result;
    };
    Array.prototype.__rmul__ = Array.prototype.__mul__;
     function tuple (iterable) {
        let instance = iterable ? [] .slice.apply (iterable) : [];
        instance.__class__ = tuple;
        return instance;
    }
    tuple.__name__ = 'tuple';
    tuple.__bases__ = [object];
     function set (iterable) {
        let instance = [];
        if (iterable) {
            for (let index = 0; index < iterable.length; index++) {
                instance.add (iterable [index]);
            }
        }
        instance.__class__ = set;
        return instance;
    }
    set.__name__ = 'set';
    set.__bases__ = [object];
    Array.prototype.__bindexOf__ = function (element) {
        element += '';
        let mindex = 0;
        let maxdex = this.length - 1;
        while (mindex <= maxdex) {
            let index = (mindex + maxdex) / 2 | 0;
            let middle = this [index] + '';
            if (middle < element) {
                mindex = index + 1;
            }
            else if (middle > element) {
                maxdex = index - 1;
            }
            else {
                return index;
            }
        }
        return -1;
    };
    Array.prototype.add = function (element) {
        if (this.indexOf (element) == -1) {
            this.push (element);
        }
    };
    Array.prototype.discard = function (element) {
        var index = this.indexOf (element);
        if (index != -1) {
            this.splice (index, 1);
        }
    };
    Array.prototype.isdisjoint = function (other) {
        this.sort ();
        for (let i = 0; i < other.length; i++) {
            if (this.__bindexOf__ (other [i]) != -1) {
                return false;
            }
        }
        return true;
    };
    Array.prototype.issuperset = function (other) {
        this.sort ();
        for (let i = 0; i < other.length; i++) {
            if (this.__bindexOf__ (other [i]) == -1) {
                return false;
            }
        }
        return true;
    };
    Array.prototype.issubset = function (other) {
        return set (other.slice ()) .issuperset (this);
    };
    Array.prototype.union = function (other) {
        let result = set (this.slice () .sort ());
        for (let i = 0; i < other.length; i++) {
            if (result.__bindexOf__ (other [i]) == -1) {
                result.push (other [i]);
            }
        }
        return result;
    };
    Array.prototype.intersection = function (other) {
        this.sort ();
        let result = set ();
        for (let i = 0; i < other.length; i++) {
            if (this.__bindexOf__ (other [i]) != -1) {
                result.push (other [i]);
            }
        }
        return result;
    };
    Array.prototype.difference = function (other) {
        let sother = set (other.slice () .sort ());
        let result = set ();
        for (let i = 0; i < this.length; i++) {
            if (sother.__bindexOf__ (this [i]) == -1) {
                result.push (this [i]);
            }
        }
        return result;
    };
    Array.prototype.symmetric_difference = function (other) {
        return this.union (other) .difference (this.intersection (other));
    };
    Array.prototype.py_update = function () {
        let updated = [] .concat.apply (this.slice (), arguments) .sort ();
        this.py_clear ();
        for (let i = 0; i < updated.length; i++) {
            if (updated [i] != updated [i - 1]) {
                this.push (updated [i]);
            }
        }
    };
    Array.prototype.__eq__ = function (other) {
        if (this.length != other.length) {
            return false;
        }
        if (this.__class__ == set) {
            this.sort ();
            other.sort ();
        }
        for (let i = 0; i < this.length; i++) {
            if (this [i] != other [i]) {
                return false;
            }
        }
        return true;
    };
    Array.prototype.__ne__ = function (other) {
        return !this.__eq__ (other);
    };
    Array.prototype.__le__ = function (other) {
        if (this.__class__ == set) {
            return this.issubset (other);
        }
        else {
            for (let i = 0; i < this.length; i++) {
                if (this [i] > other [i]) {
                    return false;
                }
                else if (this [i] < other [i]) {
                    return true;
                }
            }
            return true;
        }
    };
    Array.prototype.__ge__ = function (other) {
        if (this.__class__ == set) {
            return this.issuperset (other);
        }
        else {
            for (let i = 0; i < this.length; i++) {
                if (this [i] < other [i]) {
                    return false;
                }
                else if (this [i] > other [i]) {
                    return true;
                }
            }
            return true;
        }
    };
    Array.prototype.__lt__ = function (other) {
        return (
            this.__class__ == set ?
            this.issubset (other) && !this.issuperset (other) :
            !this.__ge__ (other)
        );
    };
    Array.prototype.__gt__ = function (other) {
        return (
            this.__class__ == set ?
            this.issuperset (other) && !this.issubset (other) :
            !this.__le__ (other)
        );
    };
     function bytearray (bytable, encoding) {
        if (bytable == undefined) {
            return new Uint8Array (0);
        }
        else {
            let aType = py_typeof (bytable);
            if (aType == int) {
                return new Uint8Array (bytable);
            }
            else if (aType == str) {
                let aBytes = new Uint8Array (len (bytable));
                for (let i = 0; i < len (bytable); i++) {
                    aBytes [i] = bytable.charCodeAt (i);
                }
                return aBytes;
            }
            else if (aType == list || aType == tuple) {
                return new Uint8Array (bytable);
            }
            else {
                throw py_TypeError;
            }
        }
    }
     var bytes = bytearray;
    Uint8Array.prototype.__add__ = function (aBytes) {
        let result = new Uint8Array (this.length + aBytes.length);
        result.set (this);
        result.set (aBytes, this.length);
        return result;
    };
    Uint8Array.prototype.__mul__ = function (scalar) {
        let result = new Uint8Array (scalar * this.length);
        for (let i = 0; i < scalar; i++) {
            result.set (this, i * this.length);
        }
        return result;
    };
    Uint8Array.prototype.__rmul__ = Uint8Array.prototype.__mul__;
     function str (stringable) {
        if (typeof stringable === 'number')
            return stringable.toString();
        else {
            try {
                return stringable.__str__ ();
            }
            catch (exception) {
                try {
                    return repr (stringable);
                }
                catch (exception) {
                    return String (stringable);
                }
            }
        }
    };
    String.prototype.__class__ = str;
    str.__name__ = 'str';
    str.__bases__ = [object];
    String.prototype.__iter__ = function () {new __PyIterator__ (this);};
    String.prototype.__repr__ = function () {
        return (this.indexOf ('\'') == -1 ? '\'' + this + '\'' : '"' + this + '"') .py_replace ('\t', '\\t') .py_replace ('\n', '\\n');
    };
    String.prototype.__str__ = function () {
        return this;
    };
    String.prototype.capitalize = function () {
        return this.charAt (0).toUpperCase () + this.slice (1);
    };
    String.prototype.endswith = function (suffix, start=0, end) {
        if (end === undefined) {end = this.length}
        const str = this.slice(start, end)
        if (suffix instanceof Array) {
            for (var i=0;i<suffix.length;i++) {
                if (str.slice (-suffix[i].length) === suffix[i])
                    return true;
            }
        } else
            return suffix === '' || str.slice (-suffix.length) === suffix;
        return false;
    };
    String.prototype.find = function (sub, start) {
        return this.indexOf (sub, start);
    };
    String.prototype.__getslice__ = function (start, stop, step) {
        if (start < 0) {
            start = this.length + start;
        }
        if (stop == null) {
            stop = this.length;
        }
        else if (stop < 0) {
            stop = this.length + stop;
        }
        var result = '';
        if (step == 1) {
            result = this.substring (start, stop);
        }
        else {
            for (var index = start; index < stop; index += step) {
                result = result.concat (this.charAt(index));
            }
        }
        return result;
    };
    __setproperty__ (String.prototype, 'format', {
        get: function () {return __get__ (this, function (self) {
            var args = tuple ([] .slice.apply (arguments).slice (1));
            var autoIndex = 0;
            return self.replace (/\{(\w*)\}/g, function (match, key) {
                if (key == '') {
                    key = autoIndex++;
                }
                if (key == +key) {
                    return args [key] === undefined ? match : str (args [key]);
                }
                else {
                    for (var index = 0; index < args.length; index++) {
                        if (typeof args [index] == 'object' && args [index][key] !== undefined) {
                            return str (args [index][key]);
                        }
                    }
                    return match;
                }
            });
        });},
        enumerable: true
    });
    String.prototype.isalnum = function () {
        return /^[0-9a-zA-Z]{1,}$/.test(this)
    }
    String.prototype.isalpha = function () {
        return /^[a-zA-Z]{1,}$/.test(this)
    }
    String.prototype.isdecimal = function () {
        return /^[0-9]{1,}$/.test(this)
    }
    String.prototype.isdigit = function () {
        return this.isdecimal()
    }
    String.prototype.islower = function () {
        return /^[a-z]{1,}$/.test(this)
    }
    String.prototype.isupper = function () {
        return /^[A-Z]{1,}$/.test(this)
    }
    String.prototype.isspace = function () {
        return /^[\s]{1,}$/.test(this)
    }
    String.prototype.isnumeric = function () {
        return !isNaN (parseFloat (this)) && isFinite (this);
    };
    String.prototype.join = function (strings) {
        strings = Array.from (strings);
        return strings.join (this);
    };
    String.prototype.lower = function () {
        return this.toLowerCase ();
    };
    String.prototype.py_replace = function (old, aNew, maxreplace) {
        if (maxreplace === undefined || maxreplace < 0) {
            return this.split(old).join(aNew);
        } else if (maxreplace === 0) {
            return this;
        } else {
            const pre = this.split(old, maxreplace).join(aNew);
            const rest = this.slice(this.split(old, maxreplace).join(old).length + 1)
            return pre.concat(rest.length>0 ? aNew : '', rest);
        }
    };
    String.prototype.lstrip = function () {
        return this.replace (/^\s*/g, '');
    };
    String.prototype.rfind = function (sub, start) {
        return this.lastIndexOf (sub, start);
    };
    String.prototype.rsplit = function (sep, maxsplit) {
        if (sep == undefined || sep == null) {
            sep = /\s+/;
            var stripped = this.strip ();
        }
        else {
            var stripped = this;
        }
        if (maxsplit == undefined || maxsplit == -1) {
            return stripped.split (sep);
        }
        else {
            var result = stripped.split (sep);
            if (maxsplit < result.length) {
                var maxrsplit = result.length - maxsplit;
                return [result.slice (0, maxrsplit) .join (sep)] .concat (result.slice (maxrsplit));
            }
            else {
                return result;
            }
        }
    };
    String.prototype.rstrip = function () {
        return this.replace (/\s*$/g, '');
    };
    String.prototype.py_split = function (sep, maxsplit) {
        if (sep == undefined || sep == null) {
            sep = /\s+/;
            var stripped = this.strip ();
        }
        else {
            var stripped = this;
        }
        if (maxsplit == undefined || maxsplit == -1) {
            return stripped.split (sep);
        }
        else {
            var result = stripped.split (sep);
            if (maxsplit < result.length) {
                return result.slice (0, maxsplit).concat ([result.slice (maxsplit).join (sep)]);
            }
            else {
                return result;
            }
        }
    };
    String.prototype.startswith = function (prefix, start=0, end) {
        if (end === undefined) {end = this.length}
        const str = this.slice(start, end)
        if (prefix instanceof Array) {
            for (let i=0;i<prefix.length;i++) {
                if (str.indexOf (prefix [i]) === 0)
                    return true;
            }
        } else {
            return str.indexOf(prefix) === 0;
        }
        return false;
    }
    String.prototype.strip = function () {
        return this.trim ();
    };
    String.prototype.upper = function () {
        return this.toUpperCase ();
    };
    String.prototype.__mul__ = function (scalar) {
        var result = '';
        for (var i = 0; i < scalar; i++) {
            result = result + this;
        }
        return result;
    };
    String.prototype.__rmul__ = String.prototype.__mul__;
    function __contains__ (element) {
        return this.hasOwnProperty (element);
    }
    function __keys__ () {
        var keys = [];
        for (var attrib in this) {
            if (!__specialattrib__ (attrib)) {
                keys.push (attrib);
            }
        }
        return keys;
    }
    function __items__ () {
        var items = [];
        for (var attrib in this) {
            if (!__specialattrib__ (attrib)) {
                items.push ([attrib, this [attrib]]);
            }
        }
        return items;
    }
    function __del__ (key) {
        delete this [key];
    }
    function __clear__ () {
        for (var attrib in this) {
            delete this [attrib];
        }
    }
    function __getdefault__ (aKey, aDefault) {
        var result = this [aKey];
        if (result == undefined) {
            result = this ['py_' + aKey]
        }
        return result == undefined ? (aDefault == undefined ? null : aDefault) : result;
    }
    function __setdefault__ (aKey, aDefault) {
        var result = this [aKey];
        if (result != undefined) {
            return result;
        }
        var val = aDefault == undefined ? null : aDefault;
        this [aKey] = val;
        return val;
    }
    function __pop__ (aKey, aDefault) {
        var result = this [aKey];
        if (result != undefined) {
            delete this [aKey];
            return result;
        } else {
            if ( aDefault === undefined ) {
                throw KeyError (aKey, new Error());
            }
        }
        return aDefault;
    }
    function __popitem__ () {
        var aKey = Object.keys (this) [0];
        if (aKey == null) {
            throw KeyError ("popitem(): dictionary is empty", new Error ());
        }
        var result = tuple ([aKey, this [aKey]]);
        delete this [aKey];
        return result;
    }
    function __update__ (aDict) {
        for (var aKey in aDict) {
            this [aKey] = aDict [aKey];
        }
    }
    function __values__ () {
        var values = [];
        for (var attrib in this) {
            if (!__specialattrib__ (attrib)) {
                values.push (this [attrib]);
            }
        }
        return values;
    }
    function __dgetitem__ (aKey) {
        return this [aKey];
    }
    function __dsetitem__ (aKey, aValue) {
        this [aKey] = aValue;
    }
     function dict (objectOrPairs) {
        var instance = {};
        if (!objectOrPairs || objectOrPairs instanceof Array) {
            if (objectOrPairs) {
                for (var index = 0; index < objectOrPairs.length; index++) {
                    var pair = objectOrPairs [index];
                    if ( !(pair instanceof Array) || pair.length != 2) {
                        throw ValueError(
                            "dict update sequence element #" + index +
                            " has length " + pair.length +
                            "; 2 is required", new Error());
                    }
                    var key = pair [0];
                    var val = pair [1];
                    if (!(objectOrPairs instanceof Array) && objectOrPairs instanceof Object) {
                        if (!isinstance (objectOrPairs, dict)) {
                            val = dict (val);
                        }
                    }
                    instance [key] = val;
                }
            }
        }
        else {
            if (isinstance (objectOrPairs, dict)) {
                var aKeys = objectOrPairs.py_keys ();
                for (var index = 0; index < aKeys.length; index++ ) {
                    var key = aKeys [index];
                    instance [key] = objectOrPairs [key];
                }
            } else if (objectOrPairs instanceof Object) {
                instance = objectOrPairs;
            } else {
                throw ValueError ("Invalid type of object for dict creation", new Error ());
            }
        }
        __setproperty__ (instance, '__class__', {value: dict, enumerable: false, writable: true});
        __setproperty__ (instance, '__contains__', {value: __contains__, enumerable: false});
        __setproperty__ (instance, 'py_keys', {value: __keys__, enumerable: false});
        __setproperty__ (instance, '__iter__', {value: function () {new __PyIterator__ (this.py_keys ());}, enumerable: false});
        __setproperty__ (instance, Symbol.iterator, {value: function () {new __JsIterator__ (this.py_keys ());}, enumerable: false});
        __setproperty__ (instance, 'py_items', {value: __items__, enumerable: false});
        __setproperty__ (instance, 'py_del', {value: __del__, enumerable: false});
        __setproperty__ (instance, 'py_clear', {value: __clear__, enumerable: false});
        __setproperty__ (instance, 'py_get', {value: __getdefault__, enumerable: false});
        __setproperty__ (instance, 'py_setdefault', {value: __setdefault__, enumerable: false});
        __setproperty__ (instance, 'py_pop', {value: __pop__, enumerable: false});
        __setproperty__ (instance, 'py_popitem', {value: __popitem__, enumerable: false});
        __setproperty__ (instance, 'py_update', {value: __update__, enumerable: false});
        __setproperty__ (instance, 'py_values', {value: __values__, enumerable: false});
        __setproperty__ (instance, '__getitem__', {value: __dgetitem__, enumerable: false});
        __setproperty__ (instance, '__setitem__', {value: __dsetitem__, enumerable: false});
        return instance;
    }
    dict.__name__ = 'dict';
    dict.__bases__ = [object];
    function __setdoc__ (docString) {
        this.__doc__ = docString;
        return this;
    }
    __setproperty__ (Function.prototype, '__setdoc__', {value: __setdoc__, enumerable: false});
     function __jsmod__ (a, b) {
        if (typeof a == 'object' && '__mod__' in a) {
            return a.__mod__ (b);
        }
        else if (typeof b == 'object' && '__rmod__' in b) {
            return b.__rmod__ (a);
        }
        else {
            return a % b;
        }
    };
     function __mod__ (a, b) {
        if (typeof a == 'object' && '__mod__' in a) {
            return a.__mod__ (b);
        }
        else if (typeof b == 'object' && '__rmod__' in b) {
            return b.__rmod__ (a);
        }
        else {
            return ((a % b) + b) % b;
        }
    };
     function __pow__ (a, b) {
        if (typeof a == 'object' && '__pow__' in a) {
            return a.__pow__ (b);
        }
        else if (typeof b == 'object' && '__rpow__' in b) {
            return b.__rpow__ (a);
        }
        else {
            return Math.pow (a, b);
        }
    };
     var pow = __pow__;
     function __neg__ (a) {
        if (typeof a == 'object' && '__neg__' in a) {
            return a.__neg__ ();
        }
        else {
            return -a;
        }
    };
     function __matmul__ (a, b) {
        return a.__matmul__ (b);
    };
     function __mul__ (a, b) {
        if (typeof a == 'object' && '__mul__' in a) {
            return a.__mul__ (b);
        }
        else if (typeof b == 'object' && '__rmul__' in b) {
            return b.__rmul__ (a);
        }
        else if (typeof a == 'string') {
            return a.__mul__ (b);
        }
        else if (typeof b == 'string') {
            return b.__rmul__ (a);
        }
        else {
            return a * b;
        }
    };
     function __truediv__ (a, b) {
        if (typeof a == 'object' && '__truediv__' in a) {
            return a.__truediv__ (b);
        }
        else if (typeof b == 'object' && '__rtruediv__' in b) {
            return b.__rtruediv__ (a);
        }
        else if (typeof a == 'object' && '__div__' in a) {
            return a.__div__ (b);
        }
        else if (typeof b == 'object' && '__rdiv__' in b) {
            return b.__rdiv__ (a);
        }
        else {
            return a / b;
        }
    };
     function __floordiv__ (a, b) {
        if (typeof a == 'object' && '__floordiv__' in a) {
            return a.__floordiv__ (b);
        }
        else if (typeof b == 'object' && '__rfloordiv__' in b) {
            return b.__rfloordiv__ (a);
        }
        else if (typeof a == 'object' && '__div__' in a) {
            return a.__div__ (b);
        }
        else if (typeof b == 'object' && '__rdiv__' in b) {
            return b.__rdiv__ (a);
        }
        else {
            return Math.floor (a / b);
        }
    };
     function __add__ (a, b) {
        if (typeof a == 'object' && '__add__' in a) {
            return a.__add__ (b);
        }
        else if (typeof b == 'object' && '__radd__' in b) {
            return b.__radd__ (a);
        }
        else {
            return a + b;
        }
    };
     function __sub__ (a, b) {
        if (typeof a == 'object' && '__sub__' in a) {
            return a.__sub__ (b);
        }
        else if (typeof b == 'object' && '__rsub__' in b) {
            return b.__rsub__ (a);
        }
        else {
            return a - b;
        }
    };
     function __lshift__ (a, b) {
        if (typeof a == 'object' && '__lshift__' in a) {
            return a.__lshift__ (b);
        }
        else if (typeof b == 'object' && '__rlshift__' in b) {
            return b.__rlshift__ (a);
        }
        else {
            return a << b;
        }
    };
     function __rshift__ (a, b) {
        if (typeof a == 'object' && '__rshift__' in a) {
            return a.__rshift__ (b);
        }
        else if (typeof b == 'object' && '__rrshift__' in b) {
            return b.__rrshift__ (a);
        }
        else {
            return a >> b;
        }
    };
     function __or__ (a, b) {
        if (typeof a == 'object' && '__or__' in a) {
            return a.__or__ (b);
        }
        else if (typeof b == 'object' && '__ror__' in b) {
            return b.__ror__ (a);
        }
        else {
            return a | b;
        }
    };
     function __xor__ (a, b) {
        if (typeof a == 'object' && '__xor__' in a) {
            return a.__xor__ (b);
        }
        else if (typeof b == 'object' && '__rxor__' in b) {
            return b.__rxor__ (a);
        }
        else {
            return a ^ b;
        }
    };
     function __and__ (a, b) {
        if (typeof a == 'object' && '__and__' in a) {
            return a.__and__ (b);
        }
        else if (typeof b == 'object' && '__rand__' in b) {
            return b.__rand__ (a);
        }
        else {
            return a & b;
        }
    };
     function __eq__ (a, b) {
        if (typeof a == 'object' && '__eq__' in a) {
            return a.__eq__ (b);
        }
        else {
            return a == b;
        }
    };
     function __ne__ (a, b) {
        if (typeof a == 'object' && '__ne__' in a) {
            return a.__ne__ (b);
        }
        else {
            return a != b
        }
    };
     function __lt__ (a, b) {
        if (typeof a == 'object' && '__lt__' in a) {
            return a.__lt__ (b);
        }
        else {
            return a < b;
        }
    };
     function __le__ (a, b) {
        if (typeof a == 'object' && '__le__' in a) {
            return a.__le__ (b);
        }
        else {
            return a <= b;
        }
    };
     function __gt__ (a, b) {
        if (typeof a == 'object' && '__gt__' in a) {
            return a.__gt__ (b);
        }
        else {
            return a > b;
        }
    };
     function __ge__ (a, b) {
        if (typeof a == 'object' && '__ge__' in a) {
            return a.__ge__ (b);
        }
        else {
            return a >= b;
        }
    };
     function __imatmul__ (a, b) {
        if ('__imatmul__' in a) {
            return a.__imatmul__ (b);
        }
        else {
            return a.__matmul__ (b);
        }
    };
     function __ipow__ (a, b) {
        if (typeof a == 'object' && '__pow__' in a) {
            return a.__ipow__ (b);
        }
        else if (typeof a == 'object' && '__ipow__' in a) {
            return a.__pow__ (b);
        }
        else if (typeof b == 'object' && '__rpow__' in b) {
            return b.__rpow__ (a);
        }
        else {
            return Math.pow (a, b);
        }
    };
     function __ijsmod__ (a, b) {
        if (typeof a == 'object' && '__imod__' in a) {
            return a.__ismod__ (b);
        }
        else if (typeof a == 'object' && '__mod__' in a) {
            return a.__mod__ (b);
        }
        else if (typeof b == 'object' && '__rpow__' in b) {
            return b.__rmod__ (a);
        }
        else {
            return a % b;
        }
    };
     function __imod__ (a, b) {
        if (typeof a == 'object' && '__imod__' in a) {
            return a.__imod__ (b);
        }
        else if (typeof a == 'object' && '__mod__' in a) {
            return a.__mod__ (b);
        }
        else if (typeof b == 'object' && '__rmod__' in b) {
            return b.__rmod__ (a);
        }
        else {
            return ((a % b) + b) % b;
        }
    };
     function __imul__ (a, b) {
        if (typeof a == 'object' && '__imul__' in a) {
            return a.__imul__ (b);
        }
        else if (typeof a == 'object' && '__mul__' in a) {
            return a = a.__mul__ (b);
        }
        else if (typeof b == 'object' && '__rmul__' in b) {
            return a = b.__rmul__ (a);
        }
        else if (typeof a == 'string') {
            return a = a.__mul__ (b);
        }
        else if (typeof b == 'string') {
            return a = b.__rmul__ (a);
        }
        else {
            return a *= b;
        }
    };
     function __idiv__ (a, b) {
        if (typeof a == 'object' && '__idiv__' in a) {
            return a.__idiv__ (b);
        }
        else if (typeof a == 'object' && '__div__' in a) {
            return a = a.__div__ (b);
        }
        else if (typeof b == 'object' && '__rdiv__' in b) {
            return a = b.__rdiv__ (a);
        }
        else {
            return a /= b;
        }
    };
     function __iadd__ (a, b) {
        if (typeof a == 'object' && '__iadd__' in a) {
            return a.__iadd__ (b);
        }
        else if (typeof a == 'object' && '__add__' in a) {
            return a = a.__add__ (b);
        }
        else if (typeof b == 'object' && '__radd__' in b) {
            return a = b.__radd__ (a);
        }
        else {
            return a += b;
        }
    };
     function __isub__ (a, b) {
        if (typeof a == 'object' && '__isub__' in a) {
            return a.__isub__ (b);
        }
        else if (typeof a == 'object' && '__sub__' in a) {
            return a = a.__sub__ (b);
        }
        else if (typeof b == 'object' && '__rsub__' in b) {
            return a = b.__rsub__ (a);
        }
        else {
            return a -= b;
        }
    };
     function __ilshift__ (a, b) {
        if (typeof a == 'object' && '__ilshift__' in a) {
            return a.__ilshift__ (b);
        }
        else if (typeof a == 'object' && '__lshift__' in a) {
            return a = a.__lshift__ (b);
        }
        else if (typeof b == 'object' && '__rlshift__' in b) {
            return a = b.__rlshift__ (a);
        }
        else {
            return a <<= b;
        }
    };
     function __irshift__ (a, b) {
        if (typeof a == 'object' && '__irshift__' in a) {
            return a.__irshift__ (b);
        }
        else if (typeof a == 'object' && '__rshift__' in a) {
            return a = a.__rshift__ (b);
        }
        else if (typeof b == 'object' && '__rrshift__' in b) {
            return a = b.__rrshift__ (a);
        }
        else {
            return a >>= b;
        }
    };
     function __ior__ (a, b) {
        if (typeof a == 'object' && '__ior__' in a) {
            return a.__ior__ (b);
        }
        else if (typeof a == 'object' && '__or__' in a) {
            return a = a.__or__ (b);
        }
        else if (typeof b == 'object' && '__ror__' in b) {
            return a = b.__ror__ (a);
        }
        else {
            return a |= b;
        }
    };
     function __ixor__ (a, b) {
        if (typeof a == 'object' && '__ixor__' in a) {
            return a.__ixor__ (b);
        }
        else if (typeof a == 'object' && '__xor__' in a) {
            return a = a.__xor__ (b);
        }
        else if (typeof b == 'object' && '__rxor__' in b) {
            return a = b.__rxor__ (a);
        }
        else {
            return a ^= b;
        }
    };
     function __iand__ (a, b) {
        if (typeof a == 'object' && '__iand__' in a) {
            return a.__iand__ (b);
        }
        else if (typeof a == 'object' && '__and__' in a) {
            return a = a.__and__ (b);
        }
        else if (typeof b == 'object' && '__rand__' in b) {
            return a = b.__rand__ (a);
        }
        else {
            return a &= b;
        }
    };
     function __getitem__ (container, key) {
        if (typeof container == 'object' && '__getitem__' in container) {
            return container.__getitem__ (key);
        }
        else if ((typeof container == 'string' || container instanceof Array) && key < 0) {
            return container [container.length + key];
        }
        else {
            return container [key];
        }
    };
     function __setitem__ (container, key, value) {
        if (typeof container == 'object' && '__setitem__' in container) {
            container.__setitem__ (key, value);
        }
        else if ((typeof container == 'string' || container instanceof Array) && key < 0) {
            container [container.length + key] = value;
        }
        else {
            container [key] = value;
        }
    };
     function __getslice__ (container, lower, upper, step) {
        if (typeof container == 'object' && '__getitem__' in container) {
            return container.__getitem__ ([lower, upper, step]);
        }
        else {
            return container.__getslice__ (lower, upper, step);
        }
    };
     function __setslice__ (container, lower, upper, step, value) {
        if (typeof container == 'object' && '__setitem__' in container) {
            container.__setitem__ ([lower, upper, step], value);
        }
        else {
            container.__setslice__ (lower, upper, step, value);
        }
    };
     var BaseException =  __class__ ('BaseException', [object], {
        __module__: __name__,
    });
     var Exception =  __class__ ('Exception', [BaseException], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self) {
            var kwargs = dict ();
            if (arguments.length) {
                var __ilastarg0__ = arguments.length - 1;
                if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                    var __allkwargs0__ = arguments [__ilastarg0__--];
                    for (var __attrib0__ in __allkwargs0__) {
                        switch (__attrib0__) {
                            case 'self': var self = __allkwargs0__ [__attrib0__]; break;
                            default: kwargs [__attrib0__] = __allkwargs0__ [__attrib0__];
                        }
                    }
                    delete kwargs.__kwargtrans__;
                }
                var args = tuple ([].slice.apply (arguments).slice (1, __ilastarg0__ + 1));
            }
            else {
                var args = tuple ();
            }
            self.__args__ = args;
            if (kwargs.error != null) {
                self.stack = kwargs.error.stack;
            }
            else if (Error) {
                self.stack = new Error ().stack;
            }
            else {
                self.stack = 'No stack trace available';
            }
        });},
        get __repr__ () {return __get__ (this, function (self) {
            if (len (self.__args__) > 1) {
                return '{}{}'.format (self.__class__.__name__, repr (tuple (self.__args__)));
            }
            else if (len (self.__args__)) {
                return '{}({})'.format (self.__class__.__name__, repr (self.__args__ [0]));
            }
            else {
                return '{}()'.format (self.__class__.__name__);
            }
        });},
        get __str__ () {return __get__ (this, function (self) {
            if (len (self.__args__) > 1) {
                return str (tuple (self.__args__));
            }
            else if (len (self.__args__)) {
                return str (self.__args__ [0]);
            }
            else {
                return '';
            }
        });}
    });
     var IterableError =  __class__ ('IterableError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, error) {
            Exception.__init__ (self, "Can't iterate over non-iterable", __kwargtrans__ ({error: error}));
        });}
    });
     var StopIteration =  __class__ ('StopIteration', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, error) {
            Exception.__init__ (self, 'Iterator exhausted', __kwargtrans__ ({error: error}));
        });}
    });
     var ValueError =  __class__ ('ValueError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var KeyError =  __class__ ('KeyError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var AssertionError =  __class__ ('AssertionError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            if (message) {
                Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
            }
            else {
                Exception.__init__ (self, __kwargtrans__ ({error: error}));
            }
        });}
    });
     var NotImplementedError =  __class__ ('NotImplementedError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var IndexError =  __class__ ('IndexError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var AttributeError =  __class__ ('AttributeError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var py_TypeError =  __class__ ('py_TypeError', [Exception], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self, message, error) {
            Exception.__init__ (self, message, __kwargtrans__ ({error: error}));
        });}
    });
     var Warning =  __class__ ('Warning', [Exception], {
        __module__: __name__,
    });
     var UserWarning =  __class__ ('UserWarning', [Warning], {
        __module__: __name__,
    });
     var DeprecationWarning =  __class__ ('DeprecationWarning', [Warning], {
        __module__: __name__,
    });
     var RuntimeWarning =  __class__ ('RuntimeWarning', [Warning], {
        __module__: __name__,
    });
     var _sort = function (iterable, key, reverse) {
        if (typeof key == 'undefined' || (key != null && key.hasOwnProperty ("__kwargtrans__"))) {;
            var key = null;
        };
        if (typeof reverse == 'undefined' || (reverse != null && reverse.hasOwnProperty ("__kwargtrans__"))) {;
            var reverse = false;
        };
        if (arguments.length) {
            var __ilastarg0__ = arguments.length - 1;
            if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                var __allkwargs0__ = arguments [__ilastarg0__--];
                for (var __attrib0__ in __allkwargs0__) {
                    switch (__attrib0__) {
                        case 'iterable': var iterable = __allkwargs0__ [__attrib0__]; break;
                        case 'key': var key = __allkwargs0__ [__attrib0__]; break;
                        case 'reverse': var reverse = __allkwargs0__ [__attrib0__]; break;
                    }
                }
            }
        }
        else {
        }
        if (key) {
            iterable.sort ((function __lambda__ (a, b) {
                if (arguments.length) {
                    var __ilastarg0__ = arguments.length - 1;
                    if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                        var __allkwargs0__ = arguments [__ilastarg0__--];
                        for (var __attrib0__ in __allkwargs0__) {
                            switch (__attrib0__) {
                                case 'a': var a = __allkwargs0__ [__attrib0__]; break;
                                case 'b': var b = __allkwargs0__ [__attrib0__]; break;
                            }
                        }
                    }
                }
                else {
                }
                return (key (a) > key (b) ? 1 : -(1));
            }));
        }
        else {
            iterable.sort ((function __lambda__ (a, b) {
                if (arguments.length) {
                    var __ilastarg0__ = arguments.length - 1;
                    if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                        var __allkwargs0__ = arguments [__ilastarg0__--];
                        for (var __attrib0__ in __allkwargs0__) {
                            switch (__attrib0__) {
                                case 'a': var a = __allkwargs0__ [__attrib0__]; break;
                                case 'b': var b = __allkwargs0__ [__attrib0__]; break;
                            }
                        }
                    }
                }
                else {
                }
                return (a > b ? 1 : -(1));
            }));
        }
        if (reverse) {
            iterable.reverse ();
        }
    };
     var sorted = function (iterable) {
        var key = null;
        var reverse = false;
        if (arguments.length) {
            var __ilastarg0__ = arguments.length - 1;
            if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                var __allkwargs0__ = arguments [__ilastarg0__--];
                for (var __attrib0__ in __allkwargs0__) {
                    switch (__attrib0__) {
                        case 'iterable': var iterable = __allkwargs0__ [__attrib0__]; break;
                        case 'key': var key = __allkwargs0__ [__attrib0__]; break;
                        case 'reverse': var reverse = __allkwargs0__ [__attrib0__]; break;
                    }
                }
            }
        }
        else {
        }
        if (py_typeof (iterable) == dict) {
            var result = _copy (iterable.py_keys ());
        }
        else {
            var result = _copy (iterable);
        }
        _sort (result, key, reverse);
        return result;
    };
     var __sort__ = function (iterable) {
        var key = null;
        var reverse = false;
        if (arguments.length) {
            var __ilastarg0__ = arguments.length - 1;
            if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                var __allkwargs0__ = arguments [__ilastarg0__--];
                for (var __attrib0__ in __allkwargs0__) {
                    switch (__attrib0__) {
                        case 'iterable': var iterable = __allkwargs0__ [__attrib0__]; break;
                        case 'key': var key = __allkwargs0__ [__attrib0__]; break;
                        case 'reverse': var reverse = __allkwargs0__ [__attrib0__]; break;
                    }
                }
            }
        }
        else {
        }
        _sort (iterable, key, reverse);
    };
     var map = function (func) {
        var iterables = tuple ([].slice.apply (arguments).slice (1));
        return (function () {
            var __accu0__ = [];
            for (var py_items of zip (...iterables)) {
                __accu0__.append (func (...py_items));
            }
            return __accu0__;
        }) ();
    };
     var filter = function (func, iterable) {
        if (func == null) {
            var func = bool;
        }
        return (function () {
            var __accu0__ = [];
            for (var item of iterable) {
                if (func (item)) {
                    __accu0__.append (item);
                }
            }
            return __accu0__;
        }) ();
    };
     var divmod = function (n, d) {
        return tuple ([Math.floor (n / d), __mod__ (n, d)]);
    };
     var __Terminal__ =  __class__ ('__Terminal__', [object], {
        __module__: __name__,
        get __init__ () {return __get__ (this, function (self) {
            self.buffer = '';
            try {
                self.element = document.getElementById ('__terminal__');
            }
            catch (__except0__) {
                self.element = null;
            }
            if (self.element) {
                self.element.style.overflowX = 'auto';
                self.element.style.boxSizing = 'border-box';
                self.element.style.padding = '5px';
                self.element.innerHTML = '_';
            }
        });},
        get print () {return __get__ (this, function (self) {
            var sep = ' ';
            var end = '\n';
            if (arguments.length) {
                var __ilastarg0__ = arguments.length - 1;
                if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                    var __allkwargs0__ = arguments [__ilastarg0__--];
                    for (var __attrib0__ in __allkwargs0__) {
                        switch (__attrib0__) {
                            case 'self': var self = __allkwargs0__ [__attrib0__]; break;
                            case 'sep': var sep = __allkwargs0__ [__attrib0__]; break;
                            case 'end': var end = __allkwargs0__ [__attrib0__]; break;
                        }
                    }
                }
                var args = tuple ([].slice.apply (arguments).slice (1, __ilastarg0__ + 1));
            }
            else {
                var args = tuple ();
            }
            self.buffer = '{}{}{}'.format (self.buffer, sep.join ((function () {
                var __accu0__ = [];
                for (var arg of args) {
                    __accu0__.append (str (arg));
                }
                return __accu0__;
            }) ()), end).__getslice__ (-(4096), null, 1);
            if (self.element) {
                self.element.innerHTML = self.buffer.py_replace ('\n', '<br>').py_replace (' ', '&nbsp');
                self.element.scrollTop = self.element.scrollHeight;
            }
            else {
                console.log (sep.join ((function () {
                    var __accu0__ = [];
                    for (var arg of args) {
                        __accu0__.append (str (arg));
                    }
                    return __accu0__;
                }) ()));
            }
        });},
        get input () {return __get__ (this, function (self, question) {
            if (arguments.length) {
                var __ilastarg0__ = arguments.length - 1;
                if (arguments [__ilastarg0__] && arguments [__ilastarg0__].hasOwnProperty ("__kwargtrans__")) {
                    var __allkwargs0__ = arguments [__ilastarg0__--];
                    for (var __attrib0__ in __allkwargs0__) {
                        switch (__attrib0__) {
                            case 'self': var self = __allkwargs0__ [__attrib0__]; break;
                            case 'question': var question = __allkwargs0__ [__attrib0__]; break;
                        }
                    }
                }
            }
            else {
            }
            self.print ('{}'.format (question), __kwargtrans__ ({end: ''}));
            var answer = window.prompt ('\n'.join (self.buffer.py_split ('\n').__getslice__ (-(8), null, 1)));
            self.print (answer);
            return answer;
        });}
    });
     var __terminal__ = __Terminal__ ();
     var print = __terminal__.print;
     var input = __terminal__.input;

    //# sourceMappingURL=org.transcrypt.__runtime__.map
</script>

<script type="module">

var dict1 = {}

        var input = document.getElementById("plugboard").value.trim();
        var valid = true;
        
        // https://regex-generator.olafneumann.org
        // regex for removing any non a-z A-Z char and whitespace
        input = input.replace(/[^A-Za-z]/g, "").replace(/\s+/g, "");
        // regex to get groups of 2 chars and space them out to create plugboard permutation
        input = input.replace(/(.{2})(?=.)/g, '$1 ')
        document.getElementById("plugboard").value = input.replace(/(.{2})(?=.)/g, '$1 ');

        var plugboardCombos = input.split(/\s+/);

        plugboardCombos.forEach(function(combo) {
            // check for 2 letter pairs and check if plugboard is empty
            // empty plugboard is valid and routes key input to self (A --> A)
            if (combo.length !== 2 || !/^[A-Za-z]{2}$/.test(combo)) {
                if (combo.length !== 0) {
                    valid = false
                };
            };
        });
    
        // make plugboard pairs
        plugboardCombos.forEach(pair => {
            const [first, second] = pair;
            if (!dict1[first]) dict1[first] = [];
            if (!dict1[second]) dict1[second] = [];
            
            dict1[first].push(second);
            dict1[second].push(first);
        });

        console.log(dict1, "A")

        if (valid) {
            document.getElementById("plugboard").style.borderColor = "";
        } else {
            document.getElementById("plugboard").style.borderColor = "red";
        };

        document.getElementById("plugboard").value = plugboardCombos.join(" ")


document.getElementById("plugboard").addEventListener("input", function() {
        var input = this.value.trim();
        var valid = true;
        
        // https://regex-generator.olafneumann.org
        // regex for removing any non a-z A-Z char and whitespace
        input = input.replace(/[^A-Za-z]/g, "").replace(/\s+/g, "");
        // regex to get groups of 2 chars and space them out to create plugboard permutation
        input = input.replace(/(.{2})(?=.)/g, '$1 ')
        this.value = input.replace(/(.{2})(?=.)/g, '$1 ');

        var plugboardCombos = input.split(/\s+/);

        plugboardCombos.forEach(function(combo) {
            // check for 2 letter pairs and check if plugboard is empty
            // empty plugboard is valid and routes key input to self (A --> A)
            if (combo.length !== 2 || !/^[A-Za-z]{2}$/.test(combo)) {
                if (combo.length !== 0) {
                    valid = false
                };
            };
        });

        // make plugboard pairs
        plugboardCombos.forEach(pair => {
            const [first, second] = pair;
            if (!dict1[first]) dict1[first] = [];
            if (!dict1[second]) dict1[second] = [];
            
            dict1[first].push(second);
            dict1[second].push(first);
        });

        console.log(dict1, "A")

        if (valid) {
            this.style.borderColor = "";
        } else {
            this.style.borderColor = "red";
        };

        this.value = plugboardCombos.join(" ")
    });

    document.querySelectorAll(".rotorSetting").forEach(function(element){
        element.addEventListener("input", function() {
            input = this.value.trim()

            inputNum = parseInt(input, 10)
            // i dont know why, but when i test this on IOS / Safari
            // the boxes accept all input types including characters
            // extra check to make sure people know why it isn't working
            if (!Number.isInteger(inputNum) || inputNum < 1 || inputNum > 26) {
                element.style.borderColor = "red"
            }
            else {
                element.style.borderColor = ""
            }
        })
    });

    console.log("test")
    document.getElementById("sigma").addEventListener('click', function() {

var __name__ = '__main__';
dict1 = {}
var plugboard = dict (dict1);
print(plugboard, "HH")
var offset_letter = function (letter, offset) {
    var start = ord ('A');
    var offset = __mod__ ((ord (letter) - start) + offset, 26);
    return chr (start + offset);
};
var letter_to_alphabet_position = function (letter) {
    return (ord (letter) - ord ('A')) + 1;
};
var swap = function (letter) {
    return plugboard.py_get (letter, letter);
};
var alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
var BETA = 'LEYJVCNIXWPBQMDRTAKZGFUHOS';
var GAMMA = 'FSOKANUERHMBTIYCWLQPZXVGJD';
var I = 'EKMFLGDQVZNTOWYHXUSPAIBRCJ';
var II = 'AJDKSIRUXBLHWTMCQGZNPYFVOE';
var III = 'BDFHJLCPRTXVZNYEIWGAKMUSQO';
var IV = 'ESOVPZJAYQUIRHXLNFTGKDCMWB';
var V = 'VZBRGITYUPSDNHLXAWMJQOFECK';
var VI = 'JPGVOUMFYQBENHZRDKASXLICTW';
var VII = 'NZJHGRCXMYSWBOUFAIVLPEKQDT';
var VIII = 'FKQHTLXOCBJSPDZRAMEWNIUYGV';
var UKW_B = 'ENKQAUYWJICOPBLMDXZVFTHRGS';
var UKW_C = 'RDOBJNTKVEHMLFCWZAXGYIPSUQ';
var betaPosition = letter_to_alphabet_position ('A');
var gammaPosition = letter_to_alphabet_position ('A');
var rotorIPos = letter_to_alphabet_position ('A');
var rotorIIPos = letter_to_alphabet_position ('A');
var rotorIIIPos = letter_to_alphabet_position ('Z');
var rotorIVPos = letter_to_alphabet_position ('A');
var rotorVPos = letter_to_alphabet_position ('A');
var rotorVIPos = letter_to_alphabet_position ('A');
var rotorVIIPos = letter_to_alphabet_position ('A');
var rotorVIIIPos = letter_to_alphabet_position ('A');
var betaStellung = 1;
var gammaStellung = 1;
var rotorIStellung = 1;
var rotorIIStellung = 1;
var rotorIIIStellung = 1;
var rotorIVStellung = 1;
var rotorVStellung = 1;
var rotorVIStellung = 1;
var rotorVIIStellung = 1;
var rotorVIIIStellung = 1;
var rotorITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorIITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorIIITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorIVTurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorVTurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorVITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorVIITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var rotorVIIITurnover = new set ([letter_to_alphabet_position ('Z'), letter_to_alphabet_position ('M')]);
var bruh = function (input, rotor) {
    var py_new = offset_letter (input, (rotor ['Position'] - 1) + -(rotor ['Stellung'] - 1));
    var py_new = rotor ['RotorMap'] [alphabet.find (py_new)];
    var py_new = offset_letter (py_new, -((rotor ['Position'] - 1) + -(rotor ['Stellung'] - 1)));
    return py_new;
};
var bruh_rev = function (input, rotor) {
    var py_new = offset_letter (input, (rotor ['Position'] - 1) + -(rotor ['Stellung'] - 1));
    var py_new = alphabet [rotor ['RotorMap'].find (py_new)];
    var py_new = offset_letter (py_new, -((rotor ['Position'] - 1) + -(rotor ['Stellung'] - 1)));
    return py_new;
};
var word = '';

rotorIStellung = parseInt(document.getElementById("ring20").value)
rotorIIStellung = parseInt(document.getElementById("ring30").value)
rotorIIIStellung = parseInt(document.getElementById("ring40").value)

rotorIPos = parseInt(document.getElementById("pos20").value)
rotorIIPos = parseInt(document.getElementById("pos30").value)
rotorIIIPos = parseInt(document.getElementById("pos40").value)
betaPosition = parseInt(document.getElementById("pos10").value)

var rotorI = dict ({'RotorMap': I, 'Position': rotorIPos, 'Stellung': rotorIStellung, 'Turnover': rotorITurnover});
var rotorII = dict ({'RotorMap': II, 'Position': rotorIIPos, 'Stellung': rotorIIStellung, 'Turnover': rotorIITurnover});
var rotorIII = dict ({'RotorMap': III, 'Position': rotorIIIPos, 'Stellung': rotorIIIStellung, 'Turnover': rotorIIITurnover});
var rotorIV = dict ({'RotorMap': IV, 'Position': rotorIVPos, 'Stellung': rotorIVStellung, 'Turnover': rotorIVTurnover});
var rotorV = dict ({'RotorMap': V, 'Position': rotorVPos, 'Stellung': rotorVStellung, 'Turnover': rotorVTurnover});
var rotorVI = dict ({'RotorMap': VI, 'Position': rotorVIPos, 'Stellung': rotorVIStellung, 'Turnover': rotorVITurnover});
var rotorVII = dict ({'RotorMap': VII, 'Position': rotorVIIPos, 'Stellung': rotorVIIStellung, 'Turnover': rotorVIITurnover});
var rotorVIII = dict ({'RotorMap': VIII, 'Position': rotorVIIIPos, 'Stellung': rotorVIIIStellung, 'Turnover': rotorVIIITurnover});
var ukw_b = dict ({'RotorMap': UKW_B});
var ukw_c = dict ({'RotorMap': UKW_C});
var beta = dict ({'RotorMap': BETA, 'Position': betaPosition, 'Stellung': betaStellung});
var gamma = dict ({'RotorMap': GAMMA, 'Position': gammaPosition, 'Stellung': gammaStellung});
        
// it's almost midnight lol idec atp !!! :(
if (document.getElementById("rotorSetting10").value == "rotorGamma") {
    beta["RotorMap"] = gamma["RotorMap"]
    betaStellung = parseInt(document.getElementById("ring10").value)
}
if (document.getElementById("rotorSetting10").value == "rotorBeta") {
    beta = beta
    betaStellung = parseInt(document.getElementById("ring10").value)
}

if (document.getElementById("rotorSettingReflector").value == "reflectorC") {
    ukw_b["RotorMap"] = ukw_c["RotorMap"]
}

if (document.getElementById("rotorSetting20").value == "rotor1") {
    rotorI = rotorI
}
else if (document.getElementById("rotorSetting20").value == "rotor2") {
    rotorI["RotorMap"] = rotorII["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor3") {
    rotorI["RotorMap"] = rotorIII["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor4") {
    rotorI["RotorMap"] = rotorIV["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor5") {
    rotorI["RotorMap"] = rotorV["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor6") {
    rotorI["RotorMap"] = rotorVI["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor7") {
    rotorI["RotorMap"] = rotorVII["RotorMap"]
}
else if (document.getElementById("rotorSetting20").value == "rotor8") {
    rotorI["RotorMap"] = rotorVII["RotorMap"]
}
        
if (document.getElementById("rotorSetting30").value == "rotor1") {
    rotorII["RotorMap"] = rotorI["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor2") {
    rotorII = rotorII
}
else if (document.getElementById("rotorSetting30").value == "rotor3") {
    rotorII["RotorMap"] = rotorIII["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor4") {
    rotorII["RotorMap"] = rotorIV["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor5") {
    rotorII["RotorMap"] = rotorV["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor6") {
    rotorII["RotorMap"] = rotorVI["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor7") {
    rotorII["RotorMap"] = rotorVII["RotorMap"]
}
else if (document.getElementById("rotorSetting30").value == "rotor8") {
    rotorII["RotorMap"] = rotorVIII["RotorMap"]
}

if (document.getElementById("rotorSetting40").value == "rotor1") {
    rotorIII["RotorMap"] = rotorI["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor2") {
    rotorIII["RotorMap"] = rotorII["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor3") {
    rotorIII = rotorIII
}
else if (document.getElementById("rotorSetting40").value == "rotor4") {
    rotorIII["RotorMap"] = rotorIV["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor5") {
    rotorIII["RotorMap"] = rotorV["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor6") {
    rotorIII["RotorMap"] = rotorVI["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor7") {
    rotorIII["RotorMap"] = rotorVII["RotorMap"]
}
else if (document.getElementById("rotorSetting40").value == "rotor8") {
    rotorIII["RotorMap"] = rotorVIII["RotorMap"]
}

for (var letter of document.getElementById("inputText").value) {
    print ('LETTER:', letter);
    if (letter.isalpha ()) {
        var letter = letter.toUpperCase();
        var letter = swap (letter);
        rotorIII ['Position'] = rotorIII ['Position'] + 1;
        if (rotorIII ['Position'] > 26) {
            rotorIII ['Position'] = 1;
        }
        if (rotorIII ['Position'] == rotorIII ['Turnover']) {
            rotorII['Position'] = rotorII['Position'] + 1;
        }
        if (rotorIII['Turnover'][2] !== undefined) {
            if (rotorIII['Position'] == rotorIII['Turnover'][2]) {
                rotorII['Position'] = rotorII['Position'] + 1;
            }
        }
        
        if (rotorII ['Position'] > 26) {
            rotorII ['Position'] = 1;
        }

        if (rotorII ['Position'] == rotorIII['Turnover']) {
            rotorII ['Position'] = rotorII ['Position'] + 1;
            rotorI ['Position'] = rotorI ['Position'] + 1;
        }

        if (rotorIII['Turnover'][2] !== undefined) {
            if (rotorII['Position'] == rotorIII['Turnover'][2]) {
                rotorII['Position'] = rotorII['Position'] + 1;
                rotorI['Position'] = rotorI['Position'] + 1;
            }
        }

        if (rotorI ['Position'] > 26) {
            rotorI ['Position'] = 1;
        }
        if (rotorII ['Position'] > 26) {
            rotorII ['Position'] = 1;
        }
        var letter = bruh (letter, rotorIII);
        var letter = bruh (letter, rotorII);
        var letter = bruh (letter, rotorI);
        var letter = bruh (letter, beta);
        var letter = ukw_b ['RotorMap'] [alphabet.find (letter)];
        var letter = bruh_rev (letter, beta);
        var letter = bruh_rev (letter, rotorI);
        var letter = bruh_rev (letter, rotorII);
        var letter = bruh_rev (letter, rotorIII);
        var py_new = swap (letter);
    }
    else {
        var py_new = letter;
    }
    var word = word + py_new;
}
print (word);
document.getElementById("outputText").value = word

//# sourceMappingURL=hello.map
    });
</script>
